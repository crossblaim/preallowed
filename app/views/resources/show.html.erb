<h1>Resource Details</h1>
<p><b>Name:</b><%=h @resource.name%>
   <b>Type:</b><%=h @resource.resource_type.name%></p>


<%= link_to 'edit', edit_client_scope_resource_path(@client, @scope, @resource)%> |
<%= link_to 'back', client_scope_path(@client, @scope)%>

<%#resources%>
<h1>Resources Roles</h1>
	<table>
		<tr>
			<td valign="top">
				<h2>resources roles</h2>
				<div id="resources_roles">
					<ul id="resources_roles_list">
						<% @resource.roles.each do |role|%>
							<%domid="resources_" + dom_id(role)%>
							<li class="role_li" id='<%=domid%>'>
								<%=role.name%>
							</li>
							<%=draggable_element(domid, :ghosting=>true, :revert=>false)%>
						<%end%>
					</ul>
				</div>
			</td>
			<td valign="top">
				<h2>all roles</h2>
				<div id="clients_roles">
					<ul id="clients_roles_list">
						<% @client.roles.each do |role|%>
							<%domid="clients_" + dom_id(role)%>
							<li class="role_li" id='<%=domid%>'>
								<%=role.name%>
							</li>
							<%=draggable_element(domid, :ghosting=>true, :revert=>true)%>
						<%end%>
					</ul>
				</div>
			</td>
		</tr>
	</table>


<%= drop_receiving_element ('resources_roles',
				:accept   => 'role_li',
				:hoverclass => 'hover',
				:with     => "'role_id=' + encodeURIComponent(element.id.split('_').last())",
				:url      => { :controller => "resources", :action => "add_role"})%>

<%= drop_receiving_element ('clients_roles',
				:accept   => 'role_li',
				:hoverclass => 'hover',
				:with     => "'role_id=' + encodeURIComponent(element.id.split('_').last())",
				:url      => { :controller => "resources", :action => "remove_role"})%>
